import{_ as g,n,r as v,o as a,c as i,a as t,t as c,k as d,F as b,D,j as _,e as w,f}from"./index-1873f96c.js";const{VITE_APP_URL:h,VITE_APP_PATH:p}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"aurora-path",BASE_URL:"/vite-sideproject-w6/",MODE:"production",DEV:!1,PROD:!0},T={data(){return{articleId:"",articleData:{},similarClassData:[],toTopBtn:""}},watch:{articleId(){this.getArticle()},articleData(){this.getSimilarClass()}},created(){window.addEventListener("scroll",this.toTopBtnStatus)},mounted(){this.articleId=this.$route.params.articleId},methods:{toTopBtnStatus(){console.log(window.scrollY),this.toTopBtn=document.querySelector("#toTopBtn"),window.scrollY>100?(console.log("u.3ql"),this.toTopBtn.classList.remove("d-none"),this.toTopBtn.classList.add("d-block")):(this.toTopBtn.classList.remove("d-block"),this.toTopBtn.classList.add("d-none"))},goTotop(){window.scrollTo(0,0)},getSimilarClass(){console.log(this.articleData.tag);const o=["商業","藝術","語言","投資理財","攝影"],l=this.articleData.tag.find(e=>o.includes(e));console.log(l),n.get(`${h}/api/${p}/products?category=${l}`).then(e=>{console.log(e),console.log(e.data.products),this.similarClassData=e.data.products}).catch(e=>{console.log(e)})},switchTime(o){return new Date(o*1e3).toLocaleDateString()},getArticle(){console.log(this.articleId),n.get(`${h}/api/${p}/article/${this.articleId}`).then(o=>{console.log(o),this.articleData=o.data.article}).catch(o=>{console.log(o)})}}},y={class:"full-height bg-light py-5 position-relative"},x={key:0,class:"container"},k={class:"mt-3"},B={class:"me-4"},L=t("i",{class:"bi bi-person-vcard me-2"},null,-1),P=t("i",{class:"bi bi-calendar2-week me-2"},null,-1),A={class:"row mt-3"},I={class:"col-md-9"},V={class:"ratio ratio-16x9"},E=["src"],S={class:"position-relative mt-5 p-3 text-light fw-bold opacity-75 border-3 rounded fs-5",style:{background:"rgba(38, 81, 110, 0.9)"}},C={class:"mb-0"},H=t("i",{class:"bi bi-pin-fill fs-3 text-white position-absolute top-0 start-5",style:{transform:"rotate(-33deg) translate(-50%, -50%)"}},null,-1),N=t("i",{class:"bi bi-pin fs-2 text-primary position-absolute top-0 start-5",style:{transform:"rotate(-33deg) translate(-50%, -50%)"}},null,-1),R=["innerHTML"],U={key:0,class:"col-md-3"},M={class:"card border-0 sticky-top",style:{top:"100px"}},j={class:"card-body"},q=t("h5",{class:"fw-bold text-secondary"},"相關課程推薦",-1),F={class:"overflow-hidden"},O={class:"ratio ratio-16x9"},Y=["src"],$={class:"p-3 mb-0"};function z(o,l,e,G,s,u){const m=v("router-link");return a(),i("div",y,[s.articleData.author?(a(),i("div",x,[t("h3",k,c(s.articleData.title),1),t("span",B,[L,d(c(s.articleData.author),1)]),t("span",null,[P,d(" "+c(u.switchTime(s.articleData.create_at)),1)]),t("div",A,[t("div",I,[t("div",V,[t("img",{class:"img-cover",src:s.articleData.image,alt:""},null,8,E)]),t("div",S,[t("p",C,c(s.articleData.description),1),H,N]),t("article",{class:"my-5 fs-5",innerHTML:s.articleData.content},null,8,R)]),s.similarClassData?(a(),i("div",U,[t("div",M,[t("div",j,[q,(a(!0),i(b,null,D(s.similarClassData,r=>(a(),i("div",{class:"my-3 border border-end border-bottom rounded-3 hover-shadow",key:r.id},[w(m,{to:`/course/${r.id}`,class:"text-decoration-none text-dark"},{default:f(()=>[t("div",F,[t("div",O,[t("img",{class:"img-cover img-hover-enlarge",src:r.imageUrl,alt:""},null,8,Y)])]),t("h6",$,c(r.title),1)]),_:2},1032,["to"])]))),128))])])])):_("",!0)])])):_("",!0)])}const K=g(T,[["render",z]]);export{K as default};
