import{_ as D,k as f,p as P,r as L,o,c as l,e as t,F as p,l as v,h as m,s as u,q as _,f as A,t as n,d as b,w as x,i as w}from"./index-76caf2b8.js";import"./Toast-bb0574f9.js";const{VITE_APP_URL:k,VITE_APP_PATH:y}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"aurora-path",BASE_URL:"/vite-sideproject-w6/",MODE:"production",DEV:!1,PROD:!0},T={data(){return{articleListData:{},currentPage:1,totalPage:1,allarticleListData:[],allarticleTag:[],clickTagData:[]}},mounted(){this.getArticleList()},watch:{currentPage(){this.getArticleList(this.currentPage)},totalPage(){this.getAllArticleList(this.totalPage)}},methods:{searchTagArticle(i){console.log(i),console.log(this.allarticleListData);const s=this.allarticleListData.filter(d=>{if(d.tag.includes(i))return d});this.clickTagData=s,console.log(this.clickTagData)},getAllArticleList(i){console.log(i);const s=[];for(let c=1;c<=i;c++)s.push(c);console.log(s);const d=s.map(c=>f.get(`${k}/api/${y}/articles?page=${c}`));console.log(d),Promise.all(d).then(c=>{console.log(c);let e=[];c.forEach(g=>{e.push(g.data.articles)}),this.allarticleListData=[...P(e)].flat(),console.log(this.allarticleListData);const r=[];this.allarticleListData.forEach(g=>{g.tag.forEach(a=>{r.includes(a)||r.push(a)})}),this.allarticleTag=r}).catch(c=>{console.log(c)})},switchTime(i){return new Date(i*1e3).toLocaleDateString()},changePage(i){console.log(i),this.currentPage=i},getArticleList(i=1){f.get(`${k}/api/${y}/articles?page=${i}`).then(s=>{console.log(s),this.articleListData=s.data,this.currentPage=s.data.pagination.current_page,this.totalPage=s.data.pagination.total_pages}).catch(s=>{console.log(s)})}}},V={class:"full-height mb-5"},M=A(`<div class="bg-light py-5"><div class="container"><div class="row my-3"><div class="col"> 這裡做輪播 <div class="card"><div class="card-body">1222222</div></div></div></div><div class="row"><div class="col-12"><h3 class="my-3 fw-bold">精選文章</h3><div class="row g-4"><div class="col-lg-6"><div class="h-100 position-relative"><div class="ratio ratio-4x3"><img class="img-cover" src="https://images.unsplash.com/photo-1678067573406-7e206fcfe184?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=388&amp;q=80" alt=""></div><div class="position-absolute bottom-0 start-0 end-0 p-2" style="background:linear-gradient(
                        to top,
                        black,
                        rgba(226, 222, 222, 0.1)
                      );"><h4 class="text-white fw-bold mb-0 p-2"> 標題標題標題標題標題標 題標題題標題題標題題題題標題題標題 </h4></div></div></div><div class="col-lg-6"><div class="h-100 d-flex flex-column justify-content-between"><div class="row align-items-center mb-3 g-2"><div class="col-8"><h5>標題標題標題標題標題標題</h5><p class="" style=""> 中文描述 中文描述 中文描述 中文描述 中文描述 中文描述 中文描述 中文描述 中文描述 中文描述 中文描 </p></div><div class="col-4"><div class="ratio ratio-4x3"><img style="" class="img-cover" src="https://images.unsplash.com/photo-1678244660394-fa02a19ac24a?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw1MXx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=500&amp;q=60" alt=""></div></div></div><div class="row align-items-center mb-3 g-2"><div class="col-8"><div><h5>標題標題標題標題標題標，題標題題標題題標題題2</h5><p> 中文描述 中文描述 中文描述 中文描述 中文描述 中文描述 </p></div></div><div class="col-4"><div class="ratio ratio-4x3"><img style="" class="img-cover" src="https://images.unsplash.com/photo-1678043638715-df1cb9b98ae8?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=870&amp;q=80" alt=""></div></div></div></div></div></div></div></div></div></div>`,1),C={class:"container py-5"},E={class:"row flex-md-row-reverse gy-3 g-4"},H={class:"col-md-3"},j={class:"sticky-top",style:{top:"110px"}},B=t("h4",{class:"fw-bold mb-3"},"主題標籤探索",-1),R={class:"row g-1"},G={key:0,class:"col-12"},N={class:"card bg-light border-0",style:{background:"url(../../../public/img/content-bg.png)"}},q={class:"card-body"},I=["onClick"],S={key:0,class:"col-md-9"},U=t("h4",{class:"fw-bold mb-3"},"最新文章",-1),W={class:"col-4"},Y={class:"ratio ratio-4x3"},Z=["src"],F={class:"col-8"},O={class:"d-none d-md-block text-muted"},z={class:"me-4"},J=t("i",{class:"bi bi-person-vcard me-2"},null,-1),X=t("i",{class:"bi bi-calendar2-week me-2"},null,-1),K={key:0,"aria-label":"Page navigation "},Q={class:"pagination justify-content-center"},$=t("a",{class:"page-link",href:"#","aria-label":"Previous"},[t("span",{"aria-hidden":"true"},"«")],-1),tt=[$],at=["onClick"],st={class:"page-link",href:"#"},et=t("a",{class:"page-link",href:"#","aria-label":"Next"},[t("span",{"aria-hidden":"true"},"»")],-1),it=[et];function ot(i,s,d,c,e,r){const g=L("RouterLink");return o(),l("div",V,[M,t("div",C,[t("div",E,[t("div",H,[t("div",j,[B,t("div",R,[e.allarticleTag?(o(),l("div",G,[t("div",N,[t("div",q,[(o(!0),l(p,null,v(e.allarticleTag,a=>(o(),l("a",{onClick:_(h=>r.searchTagArticle(a),["prevent"]),key:a+"jojo",href:"",class:"m-1 badge text-decoration-none rounded-pill fs-7 hover-bg-primary"},"#"+n(a),9,I))),128))])])])):m("",!0)])])]),e.articleListData.articles?(o(),l("div",S,[U,(o(!0),l(p,null,v(e.articleListData.articles,a=>(o(),l("div",{class:"row align-items-center g-3 border-bottom py-3",key:a.id},[t("div",W,[b(g,{to:`/article/${a.id}`,class:"text-decoration-none"},{default:x(()=>[t("div",Y,[t("img",{style:{},class:"img-cover",src:a.image,alt:""},null,8,Z)])]),_:2},1032,["to"])]),t("div",F,[b(g,{to:`/article/${a.id}`,class:"text-decoration-none text-dark"},{default:x(()=>[(o(!0),l(p,null,v(a.tag,h=>(o(),l("span",{key:h+"yoyo",class:"badge bg-light text-muted me-2 mb-2 border-bottom"},n(h),1))),128)),t("h5",null,n(a.title),1),t("p",O,n(a.description),1),t("span",z,[J,w(n(a.author),1)]),t("span",null,[X,w(" "+n(r.switchTime(a.create_at)),1)])]),_:2},1032,["to"])])]))),128))])):m("",!0)])]),e.articleListData.pagination?(o(),l("nav",K,[t("ul",Q,[t("li",{class:u(["page-item",{disabled:!e.articleListData.pagination.has_pre}]),onClick:s[0]||(s[0]=_(a=>r.changePage(e.currentPage-1),["prevent"]))},tt,2),(o(!0),l(p,null,v(e.articleListData.pagination.total_pages,a=>(o(),l("li",{class:u(["page-item",{active:a===e.currentPage}]),key:a+"jojo",onClick:_(h=>r.changePage(a),["prevent"])},[t("a",st,n(a),1)],10,at))),128)),t("li",{class:u(["page-item",{disabled:!e.articleListData.pagination.has_next}]),onClick:s[1]||(s[1]=_(a=>r.changePage(e.currentPage+1),["prevent"]))},it,2)])])):m("",!0)])}const rt=D(T,[["render",ot]]);export{rt as default};
