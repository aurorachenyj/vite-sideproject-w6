import{j as c,k as e}from"./index-735fa182.js";import{T as o}from"./Toast-2073de33.js";const{VITE_APP_URL:i,VITE_APP_PATH:r}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"aurora-path",BASE_URL:"/vite-sideproject-w6/",MODE:"production",DEV:!1,PROD:!0},n=c("cartStore",{state:()=>({cartListData:{},courseList:[],check:[]}),actions:{getAllCourse(){this.isLoading=!0,e.get(`${i}/api/${r}/products/all`).then(t=>{this.isLoading=!1,this.courseList=t.data.products}).catch(t=>{o.fire({icon:"success",title:t.response.data.message})})},getCartList(){this.isLoading=!0,e.get(`${i}/api/${r}/cart`).then(t=>{this.cartListData=t.data.data,this.isLoading=!1}).catch(t=>{})},clearCartList(){this.cartListData={}},addToCart(t){this.loadItem=!0,console.log(t),console.log(this.cartListData);const a={product_id:t,qty:1};console.log("有跑data"),e.post(`${i}/api/${r}/cart`,{data:a}).then(s=>{this.loadItem=!1,console.log(s.data),o.fire({icon:"success",title:s.data.message}),this.getCartList(),console.log("有跑最後")}).catch(s=>{console.log(s),o.fire({icon:"error",title:s.response.data.message})})},checkedClass(){this.courseList.forEach(t=>{this.cartList.carts.forEach(a=>{t.id===a.product_id&&this.check.push(t.id)})})}},getters:{cartList:({cartListData:t})=>t,ShowCourseList:({courseList:t})=>t,showCheck:({check:t})=>t}});export{n as c};
