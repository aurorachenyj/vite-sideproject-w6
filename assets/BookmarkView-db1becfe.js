import{_ as g,m as d,a as h,k as f,r as x,o as e,b as a,F as D,l as v,d as t,i as k,e as y,w,t as r,h as m}from"./index-0dad1233.js";import{b as _}from"./bookmarkStore-a7d578e1.js";import{c as u}from"./cartStore-f5332395.js";import{T as B}from"./Toast-187c6a56.js";const{VITE_APP_URL:C,VITE_APP_PATH:T}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"aurora-path",BASE_URL:"/vite-sideproject-w6/",MODE:"production",DEV:!1,PROD:!0},S={data(){return{bookmarkClassDetail:[]}},mounted(){this.getLocalStorageBookmark()},computed:{...d(_,["showbookmarkData"]),...d(u,["addToCart"])},watch:{showbookmarkData(){this.getBookmarkDetail()}},methods:{...h(_,["getLocalStorageBookmark","setLocalStorageBookmark"]),...h(u,["showCheck"]),moveToCart(c){this.addToCart(c);const s=this.showbookmarkData.indexOf(c);this.showbookmarkData.splice(s,1),this.setLocalStorageBookmark(),this.getBookmarkDetail()},delBookmark(c){const s=this.showbookmarkData.indexOf(c);this.showbookmarkData.splice(s,1),this.setLocalStorageBookmark(),B.fire({icon:"success",title:"移除收藏"}),this.getBookmarkDetail()},getBookmarkDetail(){this.bookmarkClassDetail=[],console.log(this.showbookmarkData);const c=this.showbookmarkData.map(s=>f.get(`${C}/api/${T}/product/${s}`));console.log(c),Promise.all(c).then(s=>{s.forEach(i=>{console.log(i.data.product),this.bookmarkClassDetail.push(i.data.product)})}).catch(s=>{console.log(s)})}}},P={class:"container full-height"},L=t("h4",{class:"my-5"},[k("我收藏的課程 "),t("i",{class:"bi bi-bookmark-heart"})],-1),V={key:0,class:"d-flex justify-content-center mb-5"},A=t("div",{class:"col-12 col-md-8 border border-3 rounded-3 py-3"},[t("p",{class:"text-center"},[k(" 尚未收藏任何課程 "),t("br"),t("a",{href:".#/courses",class:"btn btn-outline-primary mt-2"}," 探索課程 ")])],-1),E=[A],$={key:1},N={class:"col-md-3"},O=["src"],R={class:"col-md-6"},I={class:"mb-0"},F={class:"mt-3 d-flex align-items-center"},U={key:0,class:"badge bg-darkblue me-3"},j={key:1,class:"badge bg-secondary me-3"},H={key:2,class:"mb-0 fw-bold text-primary"},M={key:3,class:"mb-0 fw-bold text-primary"},q={class:"col-md-3"},z={class:"text-end text-md-start"},G={class:"btn-group btn-group-sm",role:"group","aria-label":"Basic outlined example"},J=["onClick"],K=t("i",{class:"bi bi-trash3 text-dark"},null,-1),Q=[K],W=["onClick"];function X(c,s,i,Y,n,l){const p=x("RouterLink");return e(),a("div",P,[L,n.bookmarkClassDetail.length===0?(e(),a("div",V,E)):(e(),a("div",$,[(e(!0),a(D,null,v(n.bookmarkClassDetail,o=>(e(),a("div",{class:"row align-items-center gy-3 pb-3 mb-3 border-bottom",key:o.id},[t("div",N,[y(p,{to:`/course/${o.id}`,class:"text-white text-decoration-none"},{default:w(()=>[t("img",{src:o.imageUrl,style:{width:"10rem"},class:"img-cover d-none d-md-block",alt:""},null,8,O)]),_:2},1032,["to"])]),t("div",R,[t("h5",I,r(o.title),1),t("div",F,[o.courseStatus==="classOpen"?(e(),a("span",U,"已開課")):o.courseStatus==="classFunding"?(e(),a("span",j,"募資中")):m("",!0),o.courseStatus==="classOpen"?(e(),a("h5",H," NT$ "+r(o.price),1)):o.courseStatus==="classFunding"?(e(),a("h5",M," NT$ "+r(o.funding_price),1)):m("",!0)])]),t("div",q,[t("div",z,[t("div",G,[t("button",{onClick:b=>l.delBookmark(o.id),type:"button",class:"btn btn-outline-light me-3"},Q,8,J),t("button",{onClick:b=>l.moveToCart(o.id),type:"button",class:"btn btn-outline-primary"}," 移至購物車 ",8,W)])])])]))),128))]))])}const et=g(S,[["render",X]]);export{et as default};
