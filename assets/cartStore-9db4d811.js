import{n as o,p as i}from"./index-264315fb.js";import{T as s}from"./Toast-2b6f39cd.js";const{VITE_APP_URL:r,VITE_APP_PATH:c}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"aurora-path",BASE_URL:"/vue-learnFund/",MODE:"production",DEV:!1,PROD:!0},u=o("cartStore",{state:()=>({cartListData:{},courseList:[],check:[],loadItem:!1}),actions:{getAllCourse(){this.isLoading=!0,i.get(`${r}/api/${c}/products/all`).then(t=>{this.isLoading=!1,this.courseList=t.data.products}).catch(t=>{s.fire({icon:"success",title:t.response.data.message})})},getCartList(){this.isLoading=!0,i.get(`${r}/api/${c}/cart`).then(t=>{this.cartListData=t.data.data,this.isLoading=!1}).catch(t=>{alert(t.response.data.message)})},clearCartList(){this.cartListData={},this.check=[]},addToCart(t){if(this.loadItem=!0,this.check.includes(t))return s.fire({icon:"success",title:"已在購物車內"});this.check.push(t);const e={product_id:t,qty:1};i.post(`${r}/api/${c}/cart`,{data:e}).then(a=>{this.loadItem=!1,s.fire({icon:"success",title:a.data.message}),this.getCartList()}).catch(a=>{s.fire({icon:"error",title:a.response.data.message})})},checkedClass(){this.courseList.forEach(t=>{this.cartList.carts.forEach(e=>{t.id===e.product_id&&!this.check.includes(t.id)&&this.check.push(t.id)})})}},getters:{cartList:({cartListData:t})=>t,ShowCourseList:({courseList:t})=>t,showCheck:({check:t})=>t}});export{u as c};
