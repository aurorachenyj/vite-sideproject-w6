import{j as r,k as c}from"./index-174217fd.js";import{T as e}from"./Toast-10dbfdb2.js";const{VITE_APP_URL:i,VITE_APP_PATH:o}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"aurora-path",BASE_URL:"/vite-sideproject-w6/",MODE:"production",DEV:!1,PROD:!0},n=r("cartStore",{state:()=>({cartListData:{},courseList:[],check:[],loadItem:!1}),actions:{getAllCourse(){this.isLoading=!0,c.get(`${i}/api/${o}/products/all`).then(t=>{this.isLoading=!1,this.courseList=t.data.products}).catch(t=>{e.fire({icon:"success",title:t.response.data.message})})},getCartList(){this.isLoading=!0,c.get(`${i}/api/${o}/cart`).then(t=>{this.cartListData=t.data.data,this.isLoading=!1}).catch(t=>{})},clearCartList(){this.cartListData={},this.check=[]},addToCart(t){if(this.loadItem=!0,console.log(t),console.log(this.cartListData),this.check.includes(t))return e.fire({icon:"success",title:"已在購物車內"});this.check.push(t);const a={product_id:t,qty:1};console.log("有跑data"),c.post(`${i}/api/${o}/cart`,{data:a}).then(s=>{this.loadItem=!1,console.log(s.data),e.fire({icon:"success",title:s.data.message}),this.getCartList(),console.log("有跑最後")}).catch(s=>{console.log(s),e.fire({icon:"error",title:s.response.data.message})})},checkedClass(){console.log("已購買產品顯示",this.check),this.courseList.forEach(t=>{this.cartList.carts.forEach(a=>{t.id===a.product_id&&!this.check.includes(t.id)&&this.check.push(t.id)})})}},getters:{cartList:({cartListData:t})=>t,ShowCourseList:({courseList:t})=>t,showCheck:({check:t})=>t}});export{n as c};
