import{k as o,l as i}from"./index-96d5c68f.js";import{T as s}from"./Toast-6dbe5813.js";const{VITE_APP_URL:c,VITE_APP_PATH:r}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"aurora-path",BASE_URL:"/vite-sideproject-w6/",MODE:"production",DEV:!1,PROD:!0},n=o("cartStore",{state:()=>({cartListData:{},courseList:[],check:[],loadItem:!1}),actions:{getAllCourse(){this.isLoading=!0,i.get(`${c}/api/${r}/products/all`).then(t=>{this.isLoading=!1,this.courseList=t.data.products}).catch(t=>{s.fire({icon:"success",title:t.response.data.message})})},getCartList(){this.isLoading=!0,i.get(`${c}/api/${r}/cart`).then(t=>{this.cartListData=t.data.data,this.isLoading=!1}).catch(t=>{})},clearCartList(){this.cartListData={},this.check=[]},addToCart(t){if(this.loadItem=!0,this.check.includes(t))return s.fire({icon:"success",title:"已在購物車內"});this.check.push(t);const e={product_id:t,qty:1};console.log("有跑data"),i.post(`${c}/api/${r}/cart`,{data:e}).then(a=>{this.loadItem=!1,s.fire({icon:"success",title:a.data.message}),this.getCartList(),console.log("有跑最後")}).catch(a=>{s.fire({icon:"error",title:a.response.data.message})})},checkedClass(){console.log("已購買產品顯示",this.check),this.courseList.forEach(t=>{this.cartList.carts.forEach(e=>{t.id===e.product_id&&!this.check.includes(t.id)&&this.check.push(t.id)})})}},getters:{cartList:({cartListData:t})=>t,ShowCourseList:({courseList:t})=>t,showCheck:({check:t})=>t}});export{n as c};
