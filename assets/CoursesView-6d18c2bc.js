import{c as h}from"./cartStore-4b57ef85.js";import{_ as m,m as b,a as L,r as v,o as i,c,b as t,d as C,F as _,i as f,t as l}from"./index-6b505942.js";const{VITE_APP_URL:u,VITE_APP_PATH:p}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"aurora-path",BASE_URL:"/vite-sideproject-w6/",MODE:"production",DEV:!1,PROD:!0},k={data(){return{loadItem:!1,isLoading:!1,courseList:[],check:[]}},mounted(){this.getAllCourse()},computed:{...b(h,["cartList"])},watch:{courseList(){this.getCartList()},cartList(){this.checkedClass()}},methods:{...L(h,["getCartList"]),checkedClass(){this.courseList.forEach(e=>{this.cartList.carts.forEach(o=>{e.id===o.product_id&&this.check.push(e.id)})})},getAllCourse(){this.isLoading=!0,this.$http.get(`${u}/api/${p}/products/all`).then(e=>{this.isLoading=!1,this.courseList=e.data.products}).catch(e=>{alert(e.response.data.message)})},goToClassPage(e){this.$router.push(`/course/${e}`)},addToCart(e){this.loadItem=!0;const o={product_id:e,qty:1};this.$http.post(`${u}/api/${p}/cart`,{data:o}).then(n=>{this.getAllCourse(),this.loadItem=!1,alert(n.data.message)}).catch(n=>{alert(n.response.data.message)})}}},P={class:"container"},y=t("h3",{class:"my-3"},"全部課程總覽",-1),T={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"},A={class:"card"},w=["onClick"],E=["src"],V={class:"badge bg-dark position-absolute top-rem-1 start-rem-1"},$={class:"card-body"},I={class:"card-title"},x={class:"card-text"},B={class:"text-end"},U={class:"fs-6"},D={class:"fw-bold"},N={class:"btn-group w-100",role:"group","aria-label":"Basic outlined example"},R=["onClick"],S={key:0,href:"#/cart",type:"button",class:"btn btn-primary link-light"},F=["onClick","disabled"],H=t("br",null,null,-1),O=t("br",null,null,-1),j=t("br",null,null,-1),q=t("br",null,null,-1),M=t("br",null,null,-1);function z(e,o,n,G,a,r){const g=v("LoadingVue");return i(),c(_,null,[t("div",P,[C(g,{active:a.isLoading,"onUpdate:active":o[0]||(o[0]=s=>a.isLoading=s)},null,8,["active"]),y,t("div",T,[(i(!0),c(_,null,f(a.courseList,s=>(i(),c("div",{class:"col",key:s.id},[t("div",A,[t("a",{class:"overflow-hidden",onClick:d=>r.goToClassPage(s.id)},[t("img",{src:s.imageUrl,height:"250",class:"card-img-top img-cover img-hover-enlarge",alt:"..."},null,8,E)],8,w),t("span",V,l(s.category),1),t("div",$,[t("h5",I,l(s.title),1),t("p",x,l(s.content),1),t("h4",B,[t("span",U,[t("del",null," NT$ "+l(s.origin_price),1)]),t("span",D," NT$ "+l(s.price),1)]),t("div",N,[t("a",{onClick:d=>r.goToClassPage(s.id),class:"btn btn-outline-secondary btn-hover-light"},"課程詳情",8,R),a.check.includes(s.id)?(i(),c("a",S," 已選購，結帳去 ")):(i(),c("button",{key:1,onClick:d=>r.addToCart(s.id),disabled:a.loadItem,type:"button",class:"btn btn-outline-primary"}," 加入購物車 ",8,F))])])])]))),128))])]),H,O,j,q,M],64)}const Q=m(k,[["render",z]]);export{Q as default};
