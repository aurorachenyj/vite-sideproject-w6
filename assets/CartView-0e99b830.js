import{T as _}from"./Toast-10b4191b.js";import{c as u}from"./cartStore-fa2e0f98.js";import{_ as k,m as y,a as f,r as p,o as e,b as c,e as v,d as t,i as l,t as a,h as i,F as b,l as C,u as w,w as V,f as P}from"./index-2600c001.js";const{VITE_APP_URL:T,VITE_APP_PATH:x}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"aurora-path",BASE_URL:"/vite-sideproject-w6/",MODE:"production",DEV:!1,PROD:!0},A={data(){return{isLoading:!1}},mounted(){this.getCartList()},computed:{...y(u,["cartList","showCheck"])},watch:{cartList(){console.log(this.cartList)}},methods:{delCartItem(s,n){console.log("id",s),console.log("productId",n),console.log(this.showCheck);const d=this.showCheck.indexOf(n);console.log(d),this.showCheck.splice(d,1),console.log(this.showCheck),this.$http.delete(`${T}/api/${x}/cart/${s}`).then(r=>{_.fire({icon:"success",title:r.data.message}),this.getCartList()}).catch(r=>{_.fire({icon:"error",title:r.response.data.message})})},...f(u,["getCartList"])}},E={class:"container"},$={class:"my-5"},I={key:0,class:"fs-6 text-darkblue fw-bold"},N={class:"row g-4"},S={class:"col-md-8"},R={key:0},B={class:"table"},D=t("thead",null,[t("tr",null,[t("th",{scope:"col"}),t("th",{scope:"col"},"課程名稱"),t("th",{scope:"col"},"課程狀態"),t("th",{scope:"col"},"售價"),t("th",{scope:"col",class:"text-end"},"付款金額")])],-1),O={key:0},U=t("td",{colspan:"5",class:"text-center"},[l(" 購物車尚無商品 "),t("br"),t("a",{href:"#/courses",class:"btn btn-outline-primary my-2"}," 探索課程 ")],-1),F=[U],H=["onClick"],j=t("i",{class:"bi bi-trash3"},null,-1),M=[j],q={key:0},z={key:1},G={class:"text-end"},J={class:"col-md-4"},K={key:0},Q={class:"bg-light p-3"},W=t("h5",{class:"text-center border-bottom py-3"},"訂單明細",-1),X={class:"clear-fix"},Y=t("p",{class:"d-inline"},"小計",-1),Z={class:"d-inline float-end"},tt={class:"text-primary text-end border-bottom py-3"},st=P('<br><div class="text-end"><span class="badge bg-secondary btn mb-2">一鍵帶入</span></div><div class="input-group mb-4"><span class="input-group-text" id="discount">使用優惠券</span><input type="text" class="form-control" placeholder="輸入代碼"></div>',3),et={key:0,class:"btn btn-outline-primary w-100 disabled",type:"button"},ot=t("br",null,null,-1),ct=t("br",null,null,-1),at=t("br",null,null,-1);function nt(s,n,d,r,h,g){const m=p("LoadingVue"),L=p("RouterLink");return e(),c(b,null,[v(m,{active:h.isLoading,"onUpdate:active":n[0]||(n[0]=o=>h.isLoading=o)},null,8,["active"]),t("div",E,[t("h3",$,[l(" 購物車 "),s.cartList.carts?(e(),c("span",I," 目前有 "+a(s.cartList.carts.length)+" 門課程 ",1)):i("",!0)]),t("div",N,[t("div",S,[s.cartList.carts?(e(),c("div",R,[t("table",B,[D,t("tbody",null,[s.cartList.carts.length===0?(e(),c("tr",O,F)):i("",!0),(e(!0),c(b,null,C(s.cartList.carts,o=>(e(),c("tr",{key:o.id},[t("td",null,[t("a",{onClick:it=>g.delCartItem(o.id,o.product_id),class:"link-primary"},M,8,H)]),t("td",null,a(o.product.title),1),o.product.courseStatus==="classFunding"?(e(),c("td",q," 募資中 ")):o.product.courseStatus==="classOpen"?(e(),c("td",z," 已開課 ")):i("",!0),t("td",null,a(o.product.origin_price),1),t("td",G,a(o.product.price),1)]))),128))])])])):i("",!0)]),t("div",J,[s.cartList.carts?(e(),c("div",K,[t("div",Q,[W,t("div",X,[Y,t("p",Z,[t("del",null," NT$ "+a(s.cartList.total),1)])]),t("h4",tt," NT$ "+a(s.cartList.final_total),1),st,s.cartList.carts.length===0?(e(),c("button",et," 未選購任何課程 ")):(e(),w(L,{key:1,to:"./cart/order",class:"btn btn-outline-primary w-100",type:"button"},{default:V(()=>[l(" 結帳去 ")]),_:1}))])])):i("",!0)])])]),l(" "+a(s.showCheck)+" ",1),ot,ct,at],64)}const ht=k(A,[["render",nt]]);export{ht as default};
