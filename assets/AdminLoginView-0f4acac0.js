import{_ as p,r,o as h,c as f,b as e,d as t,w as v,n as c}from"./index-6b505942.js";const{VITE_APP_URL:b,VITE_APP_PATH:y}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"aurora-path",BASE_URL:"/vite-sideproject-w6/",MODE:"production",DEV:!1,PROD:!0},x={data(){return{user:{username:"",password:""}}},mounted(){},methods:{adminLogin(){if(this.user.username===""||this.user.password===""){alert("請填寫完整");return}this.$http.post(`${b}/admin/signin`,this.user).then(s=>{console.log(s.data);const{token:o,expired:i}=s.data;document.cookie=`hexToken=${o}; expires=${new Date(i)}`,alert(s.data.message),this.goToAdminIndex()}).catch(s=>{alert(s.response.data.message),this.user={username:"",password:""}})},goToAdminIndex(){this.$router.push("/admin/index")}}},w={class:"container mt-5"},V={class:"w-50 mx-auto"},g=e("h3",{class:"text-center mb-5"},"後台登入",-1),P={class:"mb-3"},A=e("label",{for:"email",class:"form-label"},"帳號*",-1),T={class:"mb-3"},E=e("label",{for:"password",class:"form-label"},"密碼*",-1),k=e("div",{class:"text-center"},[e("button",{class:"btn btn-outline-primary",type:"submit"},"登入")],-1);function I(s,o,i,L,a,u){const l=r("v-field"),d=r("error-message"),_=r("v-form");return h(),f("div",w,[e("div",V,[g,t(_,{onSubmit:u.adminLogin},{default:v(({errors:m})=>[e("div",P,[A,t(l,{name:"信箱",modelValue:a.user.username,"onUpdate:modelValue":o[0]||(o[0]=n=>a.user.username=n),class:c([{"is-invalid":m.信箱},"form-control"]),id:"email",type:"text",placeholder:"請輸入信箱",rules:"required|email"},null,8,["modelValue","class"]),t(d,{name:"信箱",class:"invalid-feedback"})]),e("div",T,[E,t(l,{name:"密碼",modelValue:a.user.password,"onUpdate:modelValue":o[1]||(o[1]=n=>a.user.password=n),class:c([{"is-invalid":m.密碼},"form-control"]),id:"password",type:"password",placeholder:"請輸入密碼",rules:"required|min:8",required:""},null,8,["modelValue","class"]),t(d,{name:"密碼",class:"invalid-feedback"})]),k]),_:1},8,["onSubmit"])])])}const B=p(x,[["render",I]]);export{B as default};
